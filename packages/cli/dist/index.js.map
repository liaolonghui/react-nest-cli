{"version":3,"sources":["../src/index.ts","../package.json","../src/commands/baseRegisterCommands.ts","../src/commands/base/info.ts","../src/configs/text.config.ts","../src/commands/base/version.ts","../src/commands/base/init.ts","../src/configs/prompts.config.ts"],"sourcesContent":["#!/usr/bin/env node\nimport { program } from \"commander\";\nimport packageJson from '../package.json' with { type: 'json' };\nimport baseRegisterCommands from \"./commands/baseRegisterCommands.ts\";\nimport info, { logInfo } from './commands/base/info.ts';\nimport version from './commands/base/version.ts';\nimport init from \"./commands/base/init.ts\";\n\n\n// import.meta.dirname ÊåáÂêëÂΩìÂâçÊñá‰ª∂ÊâÄÂú®ÁõÆÂΩï\n// process.cwd() ÊåáÂêëÂΩìÂâçÂ∑•‰ΩúÁõÆÂΩï ÔºàÂÆûÈôÖËøêË°åÊó∂ÁõÆÂΩïÔºå‰∏çÊòØÂΩìÂâçÊñá‰ª∂ÊâÄÂú®ÁõÆÂΩïÔºâ\n// const cwd = process.cwd();\n// const dirname = import.meta.dirname;\n\n\nprogram\n    .version(packageJson.version, '-V, --version', 'ËæìÂá∫ÁâàÊú¨Âè∑')\n    .helpOption('-h, --help', 'ËæìÂá∫Â∏ÆÂä©‰ø°ÊÅØ')\n    // .help((str) => 'Â∏ÆÂä©‰ø°ÊÅØÔºö\\n' + str)\n    .description(packageJson.description)\n    .action(() => logInfo(program));\n\nconst registerCommand = baseRegisterCommands(program);\n// Ê≥®ÂÜåinfoÂëΩ‰ª§\nregisterCommand(info);\n// ÂàùÂßãÂåñÈ°πÁõÆÂëΩ‰ª§\nregisterCommand(init);\n// ËæìÂá∫ÁâàÊú¨Âè∑ÂëΩ‰ª§\nregisterCommand(version);\n\nprogram.parse();","{\n  \"name\": \"@react-nest/cli\",\n  \"version\": \"1.0.3\",\n  \"description\": \"‰∏Ä‰∏™ËÑöÊâãÊû∂Â∑•ÂÖ∑ÔºåÁî®‰∫éÂø´ÈÄüÁîüÊàê react+nest È°πÁõÆ\",\n  \"main\": \"index.js\",\n  \"type\": \"module\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\"\n}\n","import type { Command } from \"commander\";\n\nfunction baseRegisterCommands(program: Command) {\n    return function registerCommand(fn: (program: Command) => void) {\n        fn(program);\n    }\n}\n\nexport default baseRegisterCommands;\n","import type { Command } from \"commander\";\nimport consola from \"consola\";\nimport figlet from \"figlet\";\nimport picocolors from \"picocolors\";\nimport textConfig from \"../../configs/text.config.ts\";\n\n// ËæìÂá∫È°πÁõÆ‰ø°ÊÅØ\nexport const logInfo = (program: Command) => {\n    console.log(picocolors.yellow(figlet.textSync('React Nest CLI', textConfig)))\n    consola.start(picocolors.yellow(program.description()))\n    consola.info(picocolors.yellow(program.version()))\n}\n\nexport default function info(program: Command) {\n    // ËæìÂá∫È°πÁõÆ‰ø°ÊÅØ\n    program\n        .command('info')\n        .description('ËæìÂá∫È°πÁõÆ‰ø°ÊÅØ')\n        .action(() => logInfo(program));\n}","import type { FigletOptions } from \"figlet\";\n\nexport default {\n    font: \"Ghost\",\n    horizontalLayout: \"default\",\n    verticalLayout: \"default\",\n    width: 200,\n    whitespaceBreak: true,\n} as FigletOptions","import type { Command } from \"commander\";\nimport consola from \"consola\";\nimport figlet from \"figlet\";\nimport textConfig from \"../../configs/text.config.ts\";\n\nexport default function version(program: Command) {\n    // ËæìÂá∫ÁâàÊú¨Âè∑\n    program\n        .command('version')\n        .description('ËæìÂá∫ÁâàÊú¨Âè∑')\n        .action(() => {\n            consola.info(figlet.textSync(`version ==> ${program.version()}`, textConfig));\n        });\n}","import type { Command } from \"commander\";\nimport prompts from \"prompts\";\nimport promptsConfig from \"../../configs/prompts.config.ts\";\nimport consola from \"consola\";\nimport fsExtra from \"fs-extra\";\nimport path from \"node:path\";\nimport { cwd } from \"node:process\";\nimport { downloadTemplate } from \"giget\";\nimport ora from \"ora\";\n\n\n\nexport default function init(program: Command) {\n    program\n        .command('init')\n        .description('ÂàùÂßãÂåñÈ°πÁõÆ')\n        .argument('[project-name]', 'È°πÁõÆÂêçÁß∞')\n        .option('--template <template-name>', 'È°πÁõÆÊ®°ÊùøÂêçÁß∞')\n        .action(async (projectName, rest) => {\n            let { template } = rest || {};\n            // Â¶ÇÊûúprojectNameÊ≤°ÊúâÊèê‰æõÔºåËÆ©Áî®Êà∑ËæìÂÖ•\n            if (!projectName) {\n                const response = await prompts({\n                    type: 'text',\n                    initial: 'my-project', // ÈªòËÆ§ÂÄº\n                    name: 'projectName',\n                    message: 'ËØ∑ËæìÂÖ•È°πÁõÆÂêçÁß∞',\n                    // validate: value => value.length ? true : 'ËØ∑ËæìÂÖ•È°πÁõÆÂêçÁß∞'\n                });\n                projectName = response.projectName;\n            }\n\n            // Â¶ÇÊûútemplateÊ≤°ÊúâÊèê‰æõÊàñËÄÖtemplate‰∏çÂ≠òÂú®ÔºåËÆ©Áî®Êà∑ÈÄâÊã©\n            const noTemplate = (template && !promptsConfig.templates.find(item => item.value === template));\n            if (!template || noTemplate) {\n                if (noTemplate) {\n                    consola.error(`È°πÁõÆÊ®°Êùø ${template} ‰∏çÂ≠òÂú®, ËØ∑ÈÄâÊã©ÂÖ∂‰ªñÊ®°Êùø`);\n                }\n                const response = await prompts({\n                    type: 'select',\n                    name: 'template',\n                    message: 'ËØ∑ÈÄâÊã©È°πÁõÆÊ®°Êùø',\n                    choices: promptsConfig.templates,\n                    initial: 0, // ÈªòËÆ§ÈÄâÊã©Á¨¨‰∏Ä‰∏™\n                });\n                template = response.template;\n            }\n\n            const tip = `ÂàùÂßãÂåñÈ°πÁõÆ ${projectName}ÔºåÊ®°Êùø ${template}`;\n            const spinner = ora({\n                text: tip,\n                color: 'blue',\n                // spinner: 'growVertical',\n                // isEnabled: false\n            });\n            spinner.start();\n\n            const projectDir = path.resolve(cwd(), projectName);\n            if (fsExtra.existsSync(projectDir)) {\n                spinner.fail(`üí•ÂàùÂßãÂåñÂ§±Ë¥•: È°πÁõÆÁõÆÂΩï ${projectName} Â∑≤Â≠òÂú®`);\n                return;\n            }\n\n            const res = await downloadTemplate(`github:liaolonghui/react-nest-cli/packages/templates/${template}#main`, {\n                dir: projectDir,\n            });\n            const { dir } = res;\n            spinner.succeed(`È°πÁõÆÂàùÂßãÂåñÊàêÂäüÔºåÈ°πÁõÆÁõÆÂΩïÔºö${dir}`);\n            // console.log(res);\n\n        });\n}","\n\nexport default {\n    templates: [\n        { title: 'React + Nest', value: 'react-nest', description: 'Ëøô‰∏™Ê®°ÊùøÂåÖÂê´‰∫Ü React + Nest È°πÁõÆÁöÑÂü∫Êú¨ÈÖçÁΩÆ', disabled: false },\n        { title: 'React + Nest + TypeScript', value: 'react-nest-ts', description: 'Ëøô‰∏™Ê®°ÊùøÂåÖÂê´‰∫Ü React + Nest + TypeScript È°πÁõÆÁöÑÂü∫Êú¨ÈÖçÁΩÆ', disabled: false },\n    ]\n}"],"mappings":"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","names":["program","registerCommand","program","consola","figlet","program","consola","figlet","consola","program"]}